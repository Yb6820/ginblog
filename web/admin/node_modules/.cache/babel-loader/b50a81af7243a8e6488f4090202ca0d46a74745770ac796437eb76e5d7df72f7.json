{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport ResizeObserver from '../vc-resize-observer';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport BaseMixin from '../_util/BaseMixin';\nimport inputProps from './inputProps';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getListeners } from '../_util/props-util';\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\nvar TextAreaProps = _extends({}, inputProps, {\n  autosize: PropTypes.oneOfType([Object, Boolean]),\n  autoSize: PropTypes.oneOfType([Object, Boolean])\n});\nvar ResizableTextArea = {\n  name: 'ResizableTextArea',\n  props: TextAreaProps,\n  data: function data() {\n    return {\n      textareaStyles: {},\n      resizeStatus: RESIZE_STATUS_NONE\n    };\n  },\n  mixins: [BaseMixin],\n  mounted: function mounted() {\n    this.resizeTextarea();\n  },\n  beforeDestroy: function beforeDestroy() {\n    raf.cancel(this.nextFrameActionId);\n    raf.cancel(this.resizeFrameId);\n  },\n  watch: {\n    value: function value() {\n      var _this = this;\n      this.$nextTick(function () {\n        _this.resizeTextarea();\n      });\n    }\n  },\n  methods: {\n    handleResize: function handleResize(size) {\n      var resizeStatus = this.$data.resizeStatus;\n      var autoSize = this.$props.autoSize;\n      if (resizeStatus !== RESIZE_STATUS_NONE) {\n        return;\n      }\n      this.$emit('resize', size);\n      if (autoSize) {\n        this.resizeOnNextFrame();\n      }\n    },\n    resizeOnNextFrame: function resizeOnNextFrame() {\n      raf.cancel(this.nextFrameActionId);\n      this.nextFrameActionId = raf(this.resizeTextarea);\n    },\n    resizeTextarea: function resizeTextarea() {\n      var _this2 = this;\n      var autoSize = this.$props.autoSize || this.$props.autosize;\n      if (!autoSize || !this.$refs.textArea) {\n        return;\n      }\n      var minRows = autoSize.minRows,\n        maxRows = autoSize.maxRows;\n      var textareaStyles = calculateNodeHeight(this.$refs.textArea, false, minRows, maxRows);\n      this.setState({\n        textareaStyles: textareaStyles,\n        resizeStatus: RESIZE_STATUS_RESIZING\n      }, function () {\n        raf.cancel(_this2.resizeFrameId);\n        _this2.resizeFrameId = raf(function () {\n          _this2.setState({\n            resizeStatus: RESIZE_STATUS_RESIZED\n          }, function () {\n            _this2.resizeFrameId = raf(function () {\n              _this2.setState({\n                resizeStatus: RESIZE_STATUS_NONE\n              });\n              _this2.fixFirefoxAutoScroll();\n            });\n          });\n        });\n      });\n    },\n    // https://github.com/ant-design/ant-design/issues/21870\n    fixFirefoxAutoScroll: function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === this.$refs.textArea) {\n          var currentStart = this.$refs.textArea.selectionStart;\n          var currentEnd = this.$refs.textArea.selectionEnd;\n          this.$refs.textArea.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {\n        // Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    renderTextArea: function renderTextArea() {\n      var h = this.$createElement;\n      var props = getOptionProps(this);\n      var prefixCls = props.prefixCls,\n        autoSize = props.autoSize,\n        autosize = props.autosize,\n        disabled = props.disabled;\n      var _$data = this.$data,\n        textareaStyles = _$data.textareaStyles,\n        resizeStatus = _$data.resizeStatus;\n      warning(autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n      var otherProps = omit(props, ['prefixCls', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'value']);\n      var cls = classNames(prefixCls, _defineProperty({}, prefixCls + '-disabled', disabled));\n      var domProps = {};\n      // Fix https://github.com/ant-design/ant-design/issues/6776\n      // Make sure it could be reset when using form.getFieldDecorator\n      if ('value' in props) {\n        domProps.value = props.value || '';\n      }\n      var style = _extends({}, textareaStyles, resizeStatus === RESIZE_STATUS_RESIZING ? {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null);\n      var textareaProps = {\n        attrs: otherProps,\n        domProps: domProps,\n        style: style,\n        'class': cls,\n        on: omit(getListeners(this), 'pressEnter'),\n        directives: [{\n          name: 'ant-input'\n        }]\n      };\n      return h(ResizeObserver, {\n        on: {\n          'resize': this.handleResize\n        },\n        attrs: {\n          disabled: !(autoSize || autosize)\n        }\n      }, [h('textarea', _mergeJSXProps([textareaProps, {\n        ref: 'textArea'\n      }]))]);\n    }\n  },\n  render: function render() {\n    return this.renderTextArea();\n  }\n};\nexport default ResizableTextArea;","map":{"version":3,"names":["_mergeJSXProps","_defineProperty","_extends","ResizeObserver","omit","classNames","calculateNodeHeight","raf","warning","BaseMixin","inputProps","PropTypes","getOptionProps","getListeners","RESIZE_STATUS_NONE","RESIZE_STATUS_RESIZING","RESIZE_STATUS_RESIZED","TextAreaProps","autosize","oneOfType","Object","Boolean","autoSize","ResizableTextArea","name","props","data","textareaStyles","resizeStatus","mixins","mounted","resizeTextarea","beforeDestroy","cancel","nextFrameActionId","resizeFrameId","watch","value","_this","$nextTick","methods","handleResize","size","$data","$props","$emit","resizeOnNextFrame","_this2","$refs","textArea","minRows","maxRows","setState","fixFirefoxAutoScroll","document","activeElement","currentStart","selectionStart","currentEnd","selectionEnd","setSelectionRange","e","renderTextArea","h","$createElement","prefixCls","disabled","_$data","undefined","otherProps","cls","domProps","style","overflowX","overflowY","textareaProps","attrs","on","directives","ref","render"],"sources":["D:/VScodeDir/VSCode/Golang/ginblog/web/admin/node_modules/ant-design-vue/es/input/ResizableTextArea.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport ResizeObserver from '../vc-resize-observer';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport raf from '../_util/raf';\nimport warning from '../_util/warning';\nimport BaseMixin from '../_util/BaseMixin';\nimport inputProps from './inputProps';\nimport PropTypes from '../_util/vue-types';\nimport { getOptionProps, getListeners } from '../_util/props-util';\n\nvar RESIZE_STATUS_NONE = 0;\nvar RESIZE_STATUS_RESIZING = 1;\nvar RESIZE_STATUS_RESIZED = 2;\n\nvar TextAreaProps = _extends({}, inputProps, {\n  autosize: PropTypes.oneOfType([Object, Boolean]),\n  autoSize: PropTypes.oneOfType([Object, Boolean])\n});\nvar ResizableTextArea = {\n  name: 'ResizableTextArea',\n  props: TextAreaProps,\n  data: function data() {\n    return {\n      textareaStyles: {},\n      resizeStatus: RESIZE_STATUS_NONE\n    };\n  },\n\n  mixins: [BaseMixin],\n  mounted: function mounted() {\n    this.resizeTextarea();\n  },\n  beforeDestroy: function beforeDestroy() {\n    raf.cancel(this.nextFrameActionId);\n    raf.cancel(this.resizeFrameId);\n  },\n\n  watch: {\n    value: function value() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.resizeTextarea();\n      });\n    }\n  },\n  methods: {\n    handleResize: function handleResize(size) {\n      var resizeStatus = this.$data.resizeStatus;\n      var autoSize = this.$props.autoSize;\n\n\n      if (resizeStatus !== RESIZE_STATUS_NONE) {\n        return;\n      }\n      this.$emit('resize', size);\n      if (autoSize) {\n        this.resizeOnNextFrame();\n      }\n    },\n    resizeOnNextFrame: function resizeOnNextFrame() {\n      raf.cancel(this.nextFrameActionId);\n      this.nextFrameActionId = raf(this.resizeTextarea);\n    },\n    resizeTextarea: function resizeTextarea() {\n      var _this2 = this;\n\n      var autoSize = this.$props.autoSize || this.$props.autosize;\n      if (!autoSize || !this.$refs.textArea) {\n        return;\n      }\n      var minRows = autoSize.minRows,\n          maxRows = autoSize.maxRows;\n\n      var textareaStyles = calculateNodeHeight(this.$refs.textArea, false, minRows, maxRows);\n      this.setState({ textareaStyles: textareaStyles, resizeStatus: RESIZE_STATUS_RESIZING }, function () {\n        raf.cancel(_this2.resizeFrameId);\n        _this2.resizeFrameId = raf(function () {\n          _this2.setState({ resizeStatus: RESIZE_STATUS_RESIZED }, function () {\n            _this2.resizeFrameId = raf(function () {\n              _this2.setState({ resizeStatus: RESIZE_STATUS_NONE });\n              _this2.fixFirefoxAutoScroll();\n            });\n          });\n        });\n      });\n    },\n\n    // https://github.com/ant-design/ant-design/issues/21870\n    fixFirefoxAutoScroll: function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === this.$refs.textArea) {\n          var currentStart = this.$refs.textArea.selectionStart;\n          var currentEnd = this.$refs.textArea.selectionEnd;\n          this.$refs.textArea.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {\n        // Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    },\n    renderTextArea: function renderTextArea() {\n      var h = this.$createElement;\n\n      var props = getOptionProps(this);\n      var prefixCls = props.prefixCls,\n          autoSize = props.autoSize,\n          autosize = props.autosize,\n          disabled = props.disabled;\n      var _$data = this.$data,\n          textareaStyles = _$data.textareaStyles,\n          resizeStatus = _$data.resizeStatus;\n\n      warning(autosize === undefined, 'Input.TextArea', 'autosize is deprecated, please use autoSize instead.');\n      var otherProps = omit(props, ['prefixCls', 'autoSize', 'autosize', 'defaultValue', 'allowClear', 'type', 'lazy', 'value']);\n      var cls = classNames(prefixCls, _defineProperty({}, prefixCls + '-disabled', disabled));\n      var domProps = {};\n      // Fix https://github.com/ant-design/ant-design/issues/6776\n      // Make sure it could be reset when using form.getFieldDecorator\n      if ('value' in props) {\n        domProps.value = props.value || '';\n      }\n      var style = _extends({}, textareaStyles, resizeStatus === RESIZE_STATUS_RESIZING ? { overflowX: 'hidden', overflowY: 'hidden' } : null);\n      var textareaProps = {\n        attrs: otherProps,\n        domProps: domProps,\n        style: style,\n        'class': cls,\n        on: omit(getListeners(this), 'pressEnter'),\n        directives: [{\n          name: 'ant-input'\n        }]\n      };\n      return h(\n        ResizeObserver,\n        {\n          on: {\n            'resize': this.handleResize\n          },\n          attrs: { disabled: !(autoSize || autosize) }\n        },\n        [h('textarea', _mergeJSXProps([textareaProps, { ref: 'textArea' }]))]\n      );\n    }\n  },\n\n  render: function render() {\n    return this.renderTextArea();\n  }\n};\n\nexport default ResizableTextArea;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}