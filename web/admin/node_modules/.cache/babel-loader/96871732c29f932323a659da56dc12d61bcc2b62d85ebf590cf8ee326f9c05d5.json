{"ast":null,"code":"import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport shallowEqual from 'shallowequal';\nimport omit from 'omit.js';\nimport { getOptionProps, getListeners } from '../props-util';\nimport PropTypes from '../vue-types';\nimport proxyComponent from '../proxyComponent';\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.name || 'Component';\n}\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\nexport default function connect(mapStateToProps, injectExtraPropsKey) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var tempProps = omit(WrappedComponent.props || {}, ['store']);\n    var props = {\n      __propsSymbol__: PropTypes.any\n    };\n    Object.keys(tempProps).forEach(function (k) {\n      props[k] = _extends({}, tempProps[k], {\n        required: false\n      });\n    });\n    var Connect = {\n      name: 'Connect_' + getDisplayName(WrappedComponent),\n      props: props,\n      inject: _extends({\n        storeContext: {\n          'default': function _default() {\n            return {};\n          }\n        }\n      }, injectExtraPropsKey ? {\n        injectExtraContext: {\n          from: injectExtraPropsKey,\n          'default': function _default() {\n            return {};\n          }\n        }\n      } : {}),\n      computed: {\n        injectExtraProps: function injectExtraProps() {\n          return this.injectExtraContext ? this.injectExtraContext.$attrs : {};\n        },\n        injectExtraListeners: function injectExtraListeners() {\n          return this.injectExtraContext ? this.injectExtraContext.$listeners : {};\n        }\n      },\n      data: function data() {\n        this.store = this.storeContext.store;\n        this.preProps = _extends({}, omit(getOptionProps(this), ['__propsSymbol__']), this.injectExtraProps);\n        return {\n          subscribed: finalMapStateToProps(this.store.getState(), _extends({}, this.$props, this.injectExtraProps))\n        };\n      },\n      watch: {\n        __propsSymbol__: function __propsSymbol__() {\n          if (mapStateToProps && mapStateToProps.length === 2) {\n            this.subscribed = finalMapStateToProps(this.store.getState(), _extends({}, this.$props, this.injectExtraProps));\n          }\n        }\n      },\n      mounted: function mounted() {\n        this.trySubscribe();\n      },\n      beforeDestroy: function beforeDestroy() {\n        this.tryUnsubscribe();\n      },\n      methods: {\n        handleChange: function handleChange() {\n          if (!this.unsubscribe) {\n            return;\n          }\n          var props = _extends({}, omit(getOptionProps(this), ['__propsSymbol__']), this.injectExtraProps);\n          var nextSubscribed = finalMapStateToProps(this.store.getState(), props);\n          if (!shallowEqual(this.preProps, props) || !shallowEqual(this.subscribed, nextSubscribed)) {\n            this.subscribed = nextSubscribed;\n          }\n        },\n        trySubscribe: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        },\n        tryUnsubscribe: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        },\n        getWrappedInstance: function getWrappedInstance() {\n          return this.$refs.wrappedInstance;\n        }\n      },\n      render: function render() {\n        var h = arguments[0];\n        var _$slots = this.$slots,\n          $slots = _$slots === undefined ? {} : _$slots,\n          $scopedSlots = this.$scopedSlots,\n          subscribed = this.subscribed,\n          store = this.store;\n        var props = _extends({}, getOptionProps(this), this.injectExtraProps);\n        this.preProps = _extends({}, omit(props, ['__propsSymbol__']));\n        var wrapProps = {\n          props: _extends({}, props, subscribed, {\n            store: store\n          }),\n          on: _extends({}, getListeners(this), this.injectExtraListeners),\n          scopedSlots: $scopedSlots\n        };\n        return h(WrappedComponent, _mergeJSXProps([wrapProps, {\n          ref: 'wrappedInstance'\n        }]), [Object.keys($slots).map(function (name) {\n          return h('template', {\n            slot: name\n          }, [$slots[name]]);\n        })]);\n      }\n    };\n    return proxyComponent(Connect);\n  };\n}","map":{"version":3,"names":["_mergeJSXProps","_extends","shallowEqual","omit","getOptionProps","getListeners","PropTypes","proxyComponent","getDisplayName","WrappedComponent","name","defaultMapStateToProps","connect","mapStateToProps","injectExtraPropsKey","shouldSubscribe","finalMapStateToProps","wrapWithConnect","tempProps","props","__propsSymbol__","any","Object","keys","forEach","k","required","Connect","inject","storeContext","_default","injectExtraContext","from","computed","injectExtraProps","$attrs","injectExtraListeners","$listeners","data","store","preProps","subscribed","getState","$props","watch","length","mounted","trySubscribe","beforeDestroy","tryUnsubscribe","methods","handleChange","unsubscribe","nextSubscribed","subscribe","getWrappedInstance","$refs","wrappedInstance","render","h","arguments","_$slots","$slots","undefined","$scopedSlots","wrapProps","on","scopedSlots","ref","map","slot"],"sources":["D:/VScodeDir/VSCode/Golang/ginblog/web/admin/node_modules/ant-design-vue/es/_util/store/connect.js"],"sourcesContent":["import _mergeJSXProps from 'babel-helper-vue-jsx-merge-props';\nimport _extends from 'babel-runtime/helpers/extends';\nimport shallowEqual from 'shallowequal';\nimport omit from 'omit.js';\nimport { getOptionProps, getListeners } from '../props-util';\nimport PropTypes from '../vue-types';\nimport proxyComponent from '../proxyComponent';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.name || 'Component';\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\nexport default function connect(mapStateToProps, injectExtraPropsKey) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var tempProps = omit(WrappedComponent.props || {}, ['store']);\n    var props = {\n      __propsSymbol__: PropTypes.any\n    };\n    Object.keys(tempProps).forEach(function (k) {\n      props[k] = _extends({}, tempProps[k], { required: false });\n    });\n    var Connect = {\n      name: 'Connect_' + getDisplayName(WrappedComponent),\n      props: props,\n      inject: _extends({\n        storeContext: { 'default': function _default() {\n            return {};\n          } }\n      }, injectExtraPropsKey ? {\n        injectExtraContext: {\n          from: injectExtraPropsKey,\n          'default': function _default() {\n            return {};\n          }\n        }\n      } : {}),\n      computed: {\n        injectExtraProps: function injectExtraProps() {\n          return this.injectExtraContext ? this.injectExtraContext.$attrs : {};\n        },\n        injectExtraListeners: function injectExtraListeners() {\n          return this.injectExtraContext ? this.injectExtraContext.$listeners : {};\n        }\n      },\n      data: function data() {\n        this.store = this.storeContext.store;\n        this.preProps = _extends({}, omit(getOptionProps(this), ['__propsSymbol__']), this.injectExtraProps);\n        return {\n          subscribed: finalMapStateToProps(this.store.getState(), _extends({}, this.$props, this.injectExtraProps))\n        };\n      },\n\n      watch: {\n        __propsSymbol__: function __propsSymbol__() {\n          if (mapStateToProps && mapStateToProps.length === 2) {\n            this.subscribed = finalMapStateToProps(this.store.getState(), _extends({}, this.$props, this.injectExtraProps));\n          }\n        }\n      },\n      mounted: function mounted() {\n        this.trySubscribe();\n      },\n      beforeDestroy: function beforeDestroy() {\n        this.tryUnsubscribe();\n      },\n\n      methods: {\n        handleChange: function handleChange() {\n          if (!this.unsubscribe) {\n            return;\n          }\n          var props = _extends({}, omit(getOptionProps(this), ['__propsSymbol__']), this.injectExtraProps);\n          var nextSubscribed = finalMapStateToProps(this.store.getState(), props);\n          if (!shallowEqual(this.preProps, props) || !shallowEqual(this.subscribed, nextSubscribed)) {\n            this.subscribed = nextSubscribed;\n          }\n        },\n        trySubscribe: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        },\n        tryUnsubscribe: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        },\n        getWrappedInstance: function getWrappedInstance() {\n          return this.$refs.wrappedInstance;\n        }\n      },\n      render: function render() {\n        var h = arguments[0];\n        var _$slots = this.$slots,\n            $slots = _$slots === undefined ? {} : _$slots,\n            $scopedSlots = this.$scopedSlots,\n            subscribed = this.subscribed,\n            store = this.store;\n\n        var props = _extends({}, getOptionProps(this), this.injectExtraProps);\n        this.preProps = _extends({}, omit(props, ['__propsSymbol__']));\n        var wrapProps = {\n          props: _extends({}, props, subscribed, {\n            store: store\n          }),\n          on: _extends({}, getListeners(this), this.injectExtraListeners),\n          scopedSlots: $scopedSlots\n        };\n        return h(\n          WrappedComponent,\n          _mergeJSXProps([wrapProps, { ref: 'wrappedInstance' }]),\n          [Object.keys($slots).map(function (name) {\n            return h(\n              'template',\n              { slot: name },\n              [$slots[name]]\n            );\n          })]\n        );\n      }\n    };\n    return proxyComponent(Connect);\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}